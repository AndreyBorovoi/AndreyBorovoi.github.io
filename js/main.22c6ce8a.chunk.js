(this["webpackJsonpmemo-game"]=this["webpackJsonpmemo-game"]||[]).push([[0],{49:function(e,t,a){e.exports=a(61)},54:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(17),i=a.n(c),o=(a(54),a(97)),l=a(9),s=a(10),u=a(13),m=a(12),d=a(89),p=a(90),f=a(62),h=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement(d.a,{position:"static"},n.a.createElement(p.a,null,n.a.createElement(f.a,{variant:"h6",style:{display:"flex",flexGrow:1}},"MemoGame")))}}]),a}(r.Component),E=a(11),g=a(94);function C(e){return{type:"CHANGE_GAME_STATUS",onGame:e}}var b=a(91),v=a(16),S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).tick=r.tick.bind(Object(v.a)(r)),r}return Object(s.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return e.time!==this.props.time}},{key:"componentDidMount",value:function(){this.props.changeTime(0),this.timer=setInterval(this.tick,50)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"tick",value:function(){var e=((new Date).valueOf()-this.props.startTime)/1e3;this.props.changeTime(e)}},{key:"render",value:function(){return n.a.createElement(f.a,{variant:"h4"},this.props.time.toFixed(1))}}]),a}(r.Component),y=Object(E.b)((function(e){return{time:e.App.time,startTime:e.App.startTime}}),(function(e){return{changeTime:function(t){return e(function(e){return{type:"CHANGE_TIME",time:e}}(t))}}}))(S),O=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement(f.a,{variant:"h4"},this.props.score)}}]),a}(r.Component),A=Object(E.b)((function(e){return{score:e.App.score}}))(O);function j(){return n.a.createElement("div",null,n.a.createElement(b.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center",style:{display:"flex",flexGrow:0}},n.a.createElement(y,null),n.a.createElement(A,null)))}var D=a(92),G=a(93),k=(a(60),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).onClick=r.onClick.bind(Object(v.a)(r)),r}return Object(s.a)(a,[{key:"onClick",value:function(e){"CARD_CLOSE"===this.props.cardState&&this.props.changeCardState(this.props.id)}},{key:"render",value:function(){var e=this;"CARD_DELETING"!==this.props.cardState&&"CARD_CLOSING"!==this.props.cardState||setTimeout((function(){"CARD_DELETING"!==e.props.cardState&&"CARD_CLOSING"!==e.props.cardState||e.props.changeCardState(e.props.id)}),500);var t,a=this.props.style.width,r=parseFloat(a.slice(0,a.length-1))-2;switch(r+="%",this.props.cardState){case"CARD_DELETING":case"CARD_CLOSING":case"CARD_OPEN":t=n.a.createElement(f.a,{component:"div",style:{backgroundColor:this.props.color,height:"100%",width:"100%"}});break;case"CARD_CLOSE":t=n.a.createElement("div",{className:"CloseAppCard",style:{height:"100%",width:"100%"}});break;case"CARD_DELETED":return n.a.createElement("div",{className:"DeletedAppCard CardHeight",style:{width:r}});default:return n.a.createElement(n.a.Fragment,null,"error")}return n.a.createElement(D.a,{className:"AppCard CardHeight",style:{width:r},onClick:this.onClick},n.a.createElement(G.a,{style:{width:"100%",height:"100%"}},t))}}]),a}(r.Component)),T=Object(E.b)(null,(function(e){return{changeCardState:function(t){return e(function(e){return{type:"CHANGE_CARD_STATE",id:e}}(t))}}}))(k),_=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=Array.from(this.props.cards.keys()),a=!0;for(var r in t)"CARD_DELETED"!==this.props.cards.get(Number(r)).cardState&&(a=!1);return a&&this.props.changeGameStatus(!1),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",marginTop:"20px"}},n.a.createElement(j,null),n.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",marginTop:"20px"}},n.a.createElement(g.a,{cols:this.props.sizeX,style:{width:"90%",margin:"0px",display:"flex",justifyContent:"space-between"}},t.map((function(t){return n.a.createElement(T,{key:t,id:t,color:e.props.cards.get(t).color,cardState:e.props.cards.get(t).cardState})})))))}}]),a}(r.Component),w=Object(E.b)((function(e){return{sizeX:e.App.sizeX,cards:e.App.cards}}),(function(e){return{changeGameStatus:function(t){return e(C(t))}}}))(_),I=a(96),N=a(98),R=a(100),x=a(95),L=a(99),z=a(101),M=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).handleChange=r.handleChange.bind(Object(v.a)(r)),r}return Object(s.a)(a,[{key:"handleChange",value:function(e){this.props.changeDifficult(e.target.value)}},{key:"render",value:function(){return n.a.createElement(L.a,{component:"fieldset",size:"small",style:{marginTop:"50px"}},n.a.createElement(z.a,{component:"legend",style:{margin:"auto"}},n.a.createElement(f.a,{variant:"h5",color:"textPrimary",gutterBottom:!0},"\u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c")),n.a.createElement(R.a,{value:this.props.difficult,onChange:this.handleChange,row:!1},n.a.createElement(x.a,{value:"easy",control:n.a.createElement(N.a,null),label:"\u041b\u0435\u0433\u043a\u043e"}),n.a.createElement(x.a,{value:"medium",control:n.a.createElement(N.a,null),label:"\u0421\u0440\u0435\u0434\u043d\u0435"}),n.a.createElement(x.a,{value:"hard",control:n.a.createElement(N.a,null),label:"\u0421\u043b\u043e\u0436\u043d\u043e"})))}}]),a}(r.Component),H=Object(E.b)((function(e){return{difficult:e.App.difficult}}),(function(e){return{changeDifficult:function(t){return e({type:"CHANGE_DIFFICULT",difficult:t})}}}))(M),X=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).onClick=r.onClick.bind(Object(v.a)(r)),localStorage.getItem("bestGameScore")||localStorage.setItem("bestGameScore",0),localStorage.getItem("lastGameScore")||localStorage.setItem("lastGameScore",0),r}return Object(s.a)(a,[{key:"onClick",value:function(e){this.props.changeGameStatus(!0),this.props.createNewCards()}},{key:"render",value:function(){return n.a.createElement(b.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"center"},n.a.createElement(H,null),n.a.createElement("div",null,n.a.createElement(f.a,{variant:"h6",gutterBottom:!0},"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0441\u0447\u0435\u0442: ",localStorage.getItem("lastGameScore")),n.a.createElement(f.a,{variant:"h6",gutterBottom:!0},"\u041b\u0443\u0447\u0448\u0438\u0439 \u0441\u0447\u0435\u0442: ",localStorage.getItem("bestGameScore"))),n.a.createElement(I.a,{variant:"contained",color:"primary",style:{marginTop:"50px"},onClick:this.onClick},"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"))}}]),a}(r.Component),F=Object(E.b)((function(e){return{gameStatus:e.App.gameStatus,sizeX:e.App.sizeX,sizeY:e.App.sizeY}}),(function(e){return{changeGameStatus:function(t){return e(C(t))},createNewCards:function(){return e({type:"CREATE_NEW_CARDS"})}}}))(X),Y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return this.props.gameStatus?n.a.createElement("div",{style:{display:"flex",flexGrow:1}},n.a.createElement(w,null)):n.a.createElement("div",{style:{display:"flex",flexGrow:1}},n.a.createElement(F,null))}}]),a}(r.Component),U=Object(E.b)((function(e){return{gameStatus:e.App.gameStatus}}))(Y),B=a(19),W=a(40),P=a(41),J=a(36);function q(e,t){var a=e+Math.random()*(t-e);return Math.floor(a)}function $(e){return Number(e).toString(16)}var K=function(e,t){for(var a=new Set;a.size!==e*t/2;)a=a.add("#"+$(32*q(1,7))+$(32*q(1,7))+$(32*q(1,7)));for(var r=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),r=[e[a],e[t]];e[t]=r[0],e[a]=r[1]}return e}([].concat(Object(J.a)(a),Object(J.a)(a))),n=new Map,c=0;c<r.length;c++)n.set(c,{id:c,color:r[c],cardState:"CARD_CLOSE"});return n},Q={difficult:"easy",score:0,gameStatus:!1,sizeX:3,sizeY:4,time:0,startTime:null,cards:new Map};var V=Object(B.b)({App:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,a=Object(P.a)({},e);switch(e.cards.size?a.cards=new Map(Array.from(e.cards.entries())):a.cards=new Map,t.type){case"CHANGE_DIFFICULT":switch(a.difficult=t.difficult,t.difficult){case"easy":a.sizeX=3,a.sizeY=4;break;case"medium":a.sizeX=5,a.sizeY=4;break;case"hard":a.sizeX=5,a.sizeY=6;break;default:return e}return a;case"CHANGE_TIME":return a.time=t.time,a;case"CHANGE_GAME_STATUS":return a.gameStatus!==t.onGame?(t.onGame?(a.startTime=new Date-1,a.score=0):(localStorage.setItem("lastGameScore",a.score),localStorage.setItem("lastGameTime",a.time),localStorage.getItem("bestGameScore")<a.score&&localStorage.setItem("bestGameScore",a.score),a.score=0,a.startTime=null,a.time=0),a.gameStatus=t.onGame,a):e;case"CREATE_NEW_CARDS":return a.cards=K(a.sizeX,a.sizeY),a;case"CHANGE_CARD_STATE":if("CARD_DELETING"===a.cards.get(t.id).cardState)return a.cards.get(t.id).cardState="CARD_DELETED",a;if("CARD_CLOSING"===a.cards.get(t.id).cardState)return a.cards.get(t.id).cardState="CARD_CLOSE",a;var r,n=null,c=Object(W.a)(a.cards.values());try{for(c.s();!(r=c.n()).done;){var i=r.value;"CARD_OPEN"===i.cardState&&(n=i)}}catch(o){c.e(o)}finally{c.f()}if(n){if(n.id===t.id)return a;n.color===a.cards.get(t.id).color?(a.score=a.score+Math.round(50/Math.sqrt(a.time))+10,a.cards.get(n.id).cardState="CARD_DELETING",a.cards.get(t.id).cardState="CARD_DELETING"):(a.cards.get(n.id).cardState="CARD_CLOSING",a.cards.get(t.id).cardState="CARD_CLOSING")}else a.cards.get(t.id).cardState="CARD_OPEN";return a;default:return e}}}),Z=Object(B.c)(V);var ee=function(){return n.a.createElement(E.a,{store:Z},n.a.createElement(o.a,{style:{height:"100%",display:"flex",flexDirection:"column"},fixed:!0},n.a.createElement(h,null),n.a.createElement(U,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.22c6ce8a.chunk.js.map